<VirtualHost *:80>
    DocumentRoot /var/www/vhosts/myawesomewebsite.com/public_html/web
    ServerName myawesomewebsite.com

    <Directory /var/www/vhosts/myawesomewebsite.com/public_html/web/>
        Options -Indexes +FollowSymLinks +MultiViews
        # --------------------------------------
        # Speed up apache by disabling .htaccess
        # --------------------------------------
        AllowOverride None
        Require all granted
        ErrorDocument 404 /
        IndexIgnore *

        # Some security
        <IfModule mod_headers.c>
            Header set X-XSS-Protection "1; mode=block"
            Header set X-Content-Type-Options "nosniff"
            Header set X-Frame-Options "SAMEORIGIN"
        </IfModule>

        # ------------------------------------
        # EXPIRES CACHING
        # ------------------------------------
        <IfModule mod_expires.c>
            ExpiresActive On
            ExpiresByType image/jpg "access plus 1 year"
            ExpiresByType image/jpeg "access plus 1 year"
            ExpiresByType image/gif "access plus 1 year"
            ExpiresByType image/png "access plus 1 year"
            ExpiresByType image/webp "access plus 1 year"
            ExpiresByType text/css "access plus 1 month"
            ExpiresByType application/pdf "access plus 1 month"
            ExpiresByType text/x-javascript "access plus 1 month"
            ExpiresByType text/javascript "access plus 1 month"
            ExpiresByType application/x-shockwave-flash "access plus 1 month"
            ExpiresByType image/x-icon "access plus 1 year"
            ExpiresByType application/vnd.ms-fontobject "access plus 1 month"
            ExpiresByType application/x-font-ttf "access plus 1 month"
            ExpiresByType application/x-font-opentype "access plus 1 month"
            ExpiresByType application/x-font-woff "access plus 1 month"
            ExpiresByType image/svg+xml "access plus 1 month"
            ExpiresDefault "access plus 2 days"
        </IfModule>
        <IfModule mod_rewrite.c>
            Options -MultiViews
            RewriteEngine On

            # Redirect to www
            #RewriteCond %{HTTP_HOST} !^www\.
            #RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]

            RewriteCond %{REQUEST_FILENAME} !-f
            RewriteCond %{REQUEST_FILENAME} !-d
            RewriteRule . index.php [L]
        </IfModule>
    </Directory>
    <Directory /var/www/vhosts/myawesomewebsite.com/public_html/web/themes/>
        <Files ~ "^\.php|yml|twig|xlf|rzn|rzt|rzg">
            # Apache 2.2 configuration:
            #Order allow,deny
            #Deny from all

            # Apache 2.4 configuration:
            Require all denied
        </Files>
    </Directory>
</VirtualHost>
